# reflow-redraw

> 参考链接： https://segmentfault.com/a/1190000017329980

### 题目

回流和重绘



### 解题

#### 思路

- 回流：浏览器渲染dom会首先生成渲染树，之后，根据设备计算确定的位置和大小，这个计算的过程就是回流。它会从根节点开始遍历计算。
- 重绘：浏览器构造渲染树和回流阶段完成后，将渲染树的每个节点转换为实际像素就叫重绘。
- 所以，当页面布局和几何信息发生变化时，就需要回流，之后重绘。比如
  - 添加或删除可见的DOM元素
  - 元素的位置发生变化
  - 元素的尺寸发生变化（包括外边距、内边框、边框大小、高度和宽度等）
  - 内容发生变化，比如文本变化或图片被另一个不同尺寸的图片所替代。
  - 页面一开始渲染的时候（这肯定避免不了）
  - 浏览器的窗口尺寸变化（因为回流是根据视口的大小来计算元素的位置和大小的）
- **回流一定会触发重绘，而重绘不一定会回流**
  - 回流是计算属性，重绘只是重新渲染，所以计算属性之后一定要重新渲染来改变视图，而重绘不一定是由于计算属性引起的
- 如何让减少回流和重绘
  - 减少对dom样式的操作，如果一定要操做，尽量将其合并在一起操作，比如修改class
  - 将元素脱离文档流，例如定位，和隐藏，然后进行操作。如果是经常动的东西，则进行定位，如果只是一次的复杂操作则，则使用隐藏
  - 减少某些属性，比如offsetWidth等获取实时元素属性的元素。浏览器有个更新队列会将每次重绘的需求按照队列拍哦对，访问这些实时属性，为了返回最准确的值，浏览器重绘的队列会被强制清空，强制同步布局。

#### 代码



### 思考

