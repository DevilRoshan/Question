# 大数解决方案

上周总结了js存储数字的规则，于是便有了最大有效数的概念，如果一个数它的位数超出了16位，他的精度就会出现问题，比如`760056543044267246001 -> 760056543044267300000`，这个数字是可以储存的，但是却无法保留其精度。

### 字符串

通常来说，一半不会有大数的情况发生，而就算发生也只是一次两次，不会频繁产生这个问题。针对这类情况

* 可以选择将数字转作字符串处理
* 如果有需要加减等运算的情况，此方法不适用

### big-number

> https://github.com/alexbardas/bignumber.js

引入第三方库来解决这个问题

* big-number将数字切割存储为数组格式，然后操作
* 它提供了加减乘除乘方等API来进行运算
* 还有相关操作的库，以big-number为基础，处理其他情况下的大叔，比如[json-big](https://github.com/sidorares/json-bigint)来处理json转化中大数精度丢失问题

### 其他注意点

* js最新基本类型[BigInt](https://segmentfault.com/a/1190000019912017)，也可以解决这个问题，但是会有相关的兼容性问题
* 也可以自己编写API处理大数，比如用字符串存储大数，用递归进行加减等，但是费时费力，没有收益
* 大数有的时候也可以不处理，如果是小数位很多位以后出现精度缺失，其实没有必要关注的。
* 运算过程中也可能出现大数，尽可能预防